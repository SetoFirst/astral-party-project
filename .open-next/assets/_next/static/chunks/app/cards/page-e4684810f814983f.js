(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3746],{3571:(t,e,i)=>{Promise.resolve().then(i.bind(i,9418)),Promise.resolve().then(i.bind(i,7133))},5695:(t,e,i)=>{"use strict";var a=i(8999);i.o(a,"useRouter")&&i.d(e,{useRouter:function(){return a.useRouter}}),i.o(a,"useSearchParams")&&i.d(e,{useSearchParams:function(){return a.useSearchParams}})},7133:(t,e,i)=>{"use strict";i.d(e,{default:()=>s});var a=i(5155),n=i(5695),r=i(2115);let s=()=>{let t=(0,n.useRouter)(),[e,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{let e=await fetch("/api/auth/me");e.ok?i((await e.json()).email):(i(null),t.push("/login"))})()},[t]);let s=async()=>{try{let e=await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.json();console.error("Logout failed:",t),alert("ออกจากระบบไม่สำเร็จ กรุณาลองใหม่อีกครั้ง");return}i(null),t.push("/login"),t.refresh()}catch(t){console.error("Error during logout:",t),alert("เกิดข้อผิดพลาดในการออกจากระบบ")}};return(0,a.jsx)("div",{className:"bg-[#555555] w-full",children:(0,a.jsxs)("div",{className:"text-white p-4 flex justify-between items-center max-w-screen-xl mx-auto w-full",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{className:"flex gap-4 items-center",children:[{label:"Characters",path:"/"},{label:"Cards",path:"/cards"},{label:"Maps",path:"/map"}].map(e=>(0,a.jsx)("button",{className:"hover:text-pink-500 text-white text-xl cursor-pointer rounded px-4 py-2",onClick:()=>t.push(e.path),"aria-label":"Navigate to ".concat(e.label," page"),children:(0,a.jsx)("b",{children:e.label})},e.label))}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm md:text-base",children:[e&&(0,a.jsx)("span",{className:"text-white font-medium mb-1 text-xl",children:e}),(0,a.jsx)("button",{onClick:s,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition duration-300 cursor-pointer text-xl",children:(0,a.jsx)("b",{children:"Logout"})})]})]})})}},9418:(t,e,i)=>{"use strict";i.d(e,{default:()=>p});var a=i(5155),n=i(2115);let r=[{id:1,image:"https://static.wikitide.net/astralpartywiki/thumb/2/28/Attack_%28M%29.png/120px-Attack_%28M%29.png",name:"Attack (M)",type:"Attack",description:"ATK +1~3.\n(Only for attacker)"},{id:2,image:"https://static.wikitide.net/astralpartywiki/thumb/c/c6/Attack_%28L%29.png/120px-Attack_%28L%29.png",name:"Attack (L)",type:"Attack",description:"ATK +1~6.\n(Only for attacker)"},{id:3,image:"https://static.wikitide.net/astralpartywiki/thumb/5/54/Attack_%28G%29.png/120px-Attack_%28G%29.png",name:"Attack (G)",type:"Attack",description:"ATK +1~10.\n(Only for attacker)"},{id:4,image:"https://static.wikitide.net/astralpartywiki/thumb/d/db/Defense_%28M%29.png/120px-Defense_%28M%29.png",name:"Defense (M)",type:"Defend",description:"DEF +1~3.\n(Only for defender)"},{id:5,image:"https://static.wikitide.net/astralpartywiki/thumb/e/e4/Defense_%28L%29.png/120px-Defense_%28L%29.png",name:"Defense (L)",type:"Defend",description:"DEF +1~6.\n(Only for defender)"},{id:6,image:"https://static.wikitide.net/astralpartywiki/thumb/c/cf/Defense_%28G%29.png/120px-Defense_%28G%29.png",name:"Defense (G)",type:"Defend",description:"DEF +1~10.\n(Only for defender)"},{id:7,image:"https://static.wikitide.net/astralpartywiki/thumb/8/87/Chocolate_Cake.png/120px-Chocolate_Cake.png",name:"Chocolate Cake",type:"Effect",description:"Heal 2 HP."},{id:8,image:"https://static.wikitide.net/astralpartywiki/thumb/a/a4/Hamburger.png/120px-Hamburger.png",name:"Hamburger",type:"Effect",description:"Heal 4 HP."},{id:9,image:"https://static.wikitide.net/astralpartywiki/thumb/e/e5/Fight_Fire_with_Fire.png/120px-Fight_Fire_with_Fire.png",name:"Fight Fire with Firer",type:"Effect",description:"Take 2 damages. \nThen heal 3 HP each turn. \nLasts 2 turns."},{id:10,image:"https://static.wikitide.net/astralpartywiki/thumb/1/1e/Expired_Bento.png/120px-Expired_Bento.png",name:"Expired Bento",type:"Effect",description:"Deal 2 damages to an opponent within 6 panels, \nand take a dump underfoot."},{id:11,image:"https://static.wikitide.net/astralpartywiki/thumb/3/3f/Slingshot.png/120px-Slingshot.png",name:"Slingshot",type:"Effect",description:"Deal 2 damages to an opponent within 10 panels."},{id:12,image:"https://static.wikitide.net/astralpartywiki/thumb/6/67/Laser_Beam.png/120px-Laser_Beam.png",name:"Laser Beam",type:"Effect",description:"Deal 3 damage to an opponent within 6 panels."},{id:13,image:"https://static.wikitide.net/astralpartywiki/thumb/5/58/Brick.png/120px-Brick.png",name:"Brick",type:"Effect",description:"Deal 5 damage to an opponent within 3 panels."},{id:14,image:"https://static.wikitide.net/astralpartywiki/thumb/5/52/Self-Explosion.png/120px-Self-Explosion.png",name:"Self-Explosion",type:"Effect",description:"Take 3 damages. \nDeal 5 damages to opponents within 5 panels."},{id:15,image:"https://static.wikitide.net/astralpartywiki/thumb/4/44/Berserk.png/120px-Berserk.png",name:"Berserk",type:"Effect",description:"Apply to a target player within 10 panels. \nATK +3, Damage Taken +1. \nLasts 2 Turns."},{id:16,image:"https://static.wikitide.net/astralpartywiki/thumb/4/4b/All_or_Nothing.png/120px-All_or_Nothing.png",name:"All or Nothing",type:"Effect",description:"ATK +5. During the next battle, your opponent cannot evade. \nIf you don't KO your opponent, \nyour will suffer STUN."},{id:17,image:"https://static.wikitide.net/astralpartywiki/thumb/1/16/Redirection.png/120px-Redirection.png",name:"Redirection",type:"Effect",description:"Select move direction."},{id:18,image:"https://static.wikitide.net/astralpartywiki/thumb/f/f0/Smart_Dice.png/120px-Smart_Dice.png",name:"Smart Dice",type:"Effect",description:"Determine the number of your next dice for move."},{id:19,image:"https://static.wikitide.net/astralpartywiki/thumb/c/c5/Entrapment.png/120px-Entrapment.png",name:"Entrapment",type:"Effect",description:"Set a trap within 3 panels, \nand get 5 coins from the player activating the trap."},{id:20,image:"https://static.wikitide.net/astralpartywiki/thumb/9/98/Demolition.png/120px-Demolition.png",name:"Demolition",type:"Effect",description:"Use the card within 3 panels. \nDeal 3 damages to the player activating the panel."},{id:21,image:"https://static.wikitide.net/astralpartywiki/thumb/e/e6/Scavenging.png/120px-Scavenging.png",name:"Scavenging",type:"Effect",description:"Collect the coins dropped within 3 panels."},{id:22,image:"https://static.wikitide.net/astralpartywiki/thumb/2/27/Snatch.png/120px-Snatch.png",name:"Snatch",type:"Effect",description:"Gain 5 coins from a target player."},{id:23,image:"https://static.wikitide.net/astralpartywiki/thumb/1/12/Barricade.png/120px-Barricade.png",name:"Barricade",type:"Effect",description:"Set a barricade within 10 panels. \nPlayers will stop on the barricade panel."},{id:24,image:"https://static.wikitide.net/astralpartywiki/thumb/9/93/Soul_Link.png/120px-Soul_Link.png",name:"Soul Link",type:"Effect",description:"Link 2 target players. \nWhen a player takes damage the other takes equal damage. \nLasts 3 turns."},{id:25,image:"https://static.wikitide.net/astralpartywiki/thumb/9/91/Time_Bomb.png/120px-Time_Bomb.png",name:"Time Bomb",type:"Effect",description:"Place a bomb for the next player. \nAt the start of the round, when the roll is \n1: Receive 99 damage. \n2-6: Pass it to the next player."},{id:26,image:"https://static.wikitide.net/astralpartywiki/thumb/7/7b/Random_Portal.png/120px-Random_Portal.png",name:"Random Portal",type:"Effect",description:"Use to be teleported to a random PORTAL panel."},{id:27,image:"https://static.wikitide.net/astralpartywiki/thumb/f/fc/Eye_for_an_Eye.png/120px-Eye_for_an_Eye.png",name:"Eye for an Eye",type:"Counter",description:"Reflect the effect card targeting on you."},{id:28,image:"https://static.wikitide.net/astralpartywiki/thumb/9/95/Random_Select.png/120px-Random_Select.png",name:"Random Select",type:"Counter",description:"Reflect the effect card targeting on you to another opponent."},{id:29,image:"https://static.wikitide.net/astralpartywiki/thumb/c/cc/Barrier.png/120px-Barrier.png",name:"Barrier",type:"Counter",description:"Nullify the effect card targeting on you."},{id:30,image:"https://static.wikitide.net/astralpartywiki/thumb/b/b0/Redistribution.png/120px-Redistribution.png",name:"Redistribution",type:"Event",description:"Average the coins between the richest and the poorest players."},{id:31,image:"https://static.wikitide.net/astralpartywiki/thumb/3/35/Haste.png/120px-Haste.png",name:"Haste",type:"Event",description:"Use 2 dices for the next move"},{id:32,image:"https://static.wikitide.net/astralpartywiki/thumb/c/ce/Philanthropy.png/120px-Philanthropy.png",name:"Philanthropy",type:"Event",description:"Coins -5 for the player with the most coins"},{id:33,image:"https://static.wikitide.net/astralpartywiki/thumb/1/15/BUG.png/120px-BUG.png",name:"BUG",type:"Event",description:"Swap positions among 4 players"},{id:34,image:"https://static.wikitide.net/astralpartywiki/thumb/5/50/Food_Safety.png/120px-Food_Safety.png",name:"Food Safety",type:"Event",description:"All players take 1 damage. \nLasts 3 turns."},{id:35,image:"https://static.wikitide.net/astralpartywiki/thumb/4/4b/Lottery.png/120px-Lottery.png",name:"Lottery",type:"Event",description:"All players get chances to join lottery."},{id:36,image:"https://static.wikitide.net/astralpartywiki/thumb/3/37/My_Goddess.png/120px-My_Goddess.png",name:"Lottery",type:"Event",description:"All players heal 2 HP."},{id:37,image:"https://static.wikitide.net/astralpartywiki/thumb/4/40/Deafening_Noise.png/120px-Deafening_Noise.png",name:"Deafening Noise",type:"Event",description:"The party makes you deaf. \nAll players receive 2 damages."},{id:38,image:"https://static.wikitide.net/astralpartywiki/thumb/f/ff/Card_Destruction.png/120px-Card_Destruction.png",name:"Card Destruction",type:"Event",description:"All players discard 1 card randomly."},{id:39,image:"https://static.wikitide.net/astralpartywiki/thumb/2/27/Big_Sales.png/120px-Big_Sales.png",name:"Big Sales",type:"Event",description:"The shop sells 2 more cards. \nLasts 3 turns."},{id:40,image:"https://static.wikitide.net/astralpartywiki/thumb/3/3c/Crowd.png/120px-Crowd.png",name:"Crowd",type:"Event",description:"All players get teleported onto random panels connected."},{id:41,image:"https://static.wikitide.net/astralpartywiki/thumb/7/7b/Falling_Gifts.png/120px-Falling_Gifts.png",name:"Falling Gifts",type:"Event",description:"All players gain 3 coins and 1 card."},{id:42,image:"https://static.wikitide.net/astralpartywiki/thumb/3/39/Concentrated_Isolation.png/120px-Concentrated_Isolation.png",name:"Concentrated Isolation",type:"Event",description:"All players warp to hospital panel."},{id:43,image:"https://static.wikitide.net/astralpartywiki/thumb/8/8b/Shock_Hazard.png/120px-Shock_Hazard.png",name:"Shock Hazard",type:"Event",description:"Thunderclouds appear on random panels, \nand are responsive to coins."},{id:44,image:"https://static.wikitide.net/astralpartywiki/thumb/d/df/Overspending.png/120px-Overspending.png",name:"Overspending",type:"Event",description:"Put a trap on each player's current panel."},{id:45,image:"https://static.wikitide.net/astralpartywiki/thumb/8/8a/Broken_Pocket.png/120px-Broken_Pocket.png",name:"Broken Pocket",type:"Event",description:"Lose coins equal to the move steps for all players' next turn."},{id:46,image:"https://static.wikitide.net/astralpartywiki/thumb/8/85/It%27s_War.png/120px-It%27s_War.png",name:"It's War",type:"Event",description:"Each player gets 1 ATK UP (G)"},{id:47,image:"https://static.wikitide.net/astralpartywiki/thumb/8/8d/Equality.png/120px-Equality.png",name:"Equality",type:"Event",description:"All players' HP drops to 1, \nand the next damage taken -10."},{id:48,image:"https://static.wikitide.net/astralpartywiki/thumb/5/5e/Switcheroo.png/120px-Switcheroo.png",name:"Switcheroo",type:"Event",description:"Get cards from the player before you."},{id:49,image:"https://static.wikitide.net/astralpartywiki/thumb/d/d0/Good_Luck_%28HP%29.png/120px-Good_Luck_%28HP%29.png",name:"Good Luck",type:"Luck",description:"Heal 2 HP."},{id:50,image:"https://static.wikitide.net/astralpartywiki/thumb/0/0f/Good_Luck_%28Damage%29.png/120px-Good_Luck_%28Damage%29.png",name:"Good Luck",type:"Luck",description:"-2 Damage taken for next time"},{id:51,image:"https://static.wikitide.net/astralpartywiki/thumb/f/f0/Good_Luck_%28Card%29.png/120px-Good_Luck_%28Card%29.png",name:"Good Luck",type:"Luck",description:"Gain 1 card."},{id:52,image:"https://static.wikitide.net/astralpartywiki/thumb/9/90/Good_Luck_%28Coins%29.png/120px-Good_Luck_%28Coins%29.png",name:"Good Luck",type:"Luck",description:"Gain 5 coins."},{id:53,image:"https://static.wikitide.net/astralpartywiki/thumb/5/58/Fortune_%28Card%29.png/120px-Fortune_%28Card%29.png",name:"Fortune",type:"Luck",description:"Gain 3 cards"},{id:54,image:"https://static.wikitide.net/astralpartywiki/thumb/2/2f/Fortune_%28Coins%29.png/120px-Fortune_%28Coins%29.png",name:"Fortune",type:"Luck",description:"Coins doubled."},{id:55,image:"https://static.wikitide.net/astralpartywiki/thumb/b/b8/Bad_Luck_%28HP%29.png/120px-Bad_Luck_%28HP%29.png",name:"Bad Luck",type:"Jinx",description:"Take 2 Damages."},{id:56,image:"https://static.wikitide.net/astralpartywiki/thumb/b/b7/Bad_Luck_%28Damage%29.png/120px-Bad_Luck_%28Damage%29.png",name:"Bad Luck",type:"Jinx",description:"+2 Damage taken for next time"},{id:57,image:"https://static.wikitide.net/astralpartywiki/thumb/3/3e/Bad_Luck_%28Card%29.png/120px-Bad_Luck_%28Card%29.png",name:"Bad Luck",type:"Jinx",description:"Randomly discard 1 card."},{id:58,image:"https://static.wikitide.net/astralpartywiki/thumb/8/84/Bad_Luck_%28Coins%29.png/120px-Bad_Luck_%28Coins%29.png",name:"Bad Luck",type:"Jinx",description:"Lose 5 coins. \nCoins are dropped onto the ground."},{id:59,image:"https://static.wikitide.net/astralpartywiki/thumb/c/cb/Misfortune_%28Card%29.png/120px-Misfortune_%28Card%29.png",name:"Misfortune",type:"Jinx",description:"Randomly discard 3 cards."},{id:60,image:"https://static.wikitide.net/astralpartywiki/thumb/7/72/Misfortune_%28Coins%29.png/120px-Misfortune_%28Coins%29.png",name:"Misfortune",type:"Jinx",description:"Lose half coins."}],s=t=>{switch(t){case"Attack":return"bg-red-500 text-white font-bold";case"Defend":return"bg-blue-400 text-white font-bold";case"Effect":return"bg-green-500 text-white font-bold";case"Counter":return"bg-purple-500 text-white font-bold";case"Event":return"bg-yellow-400 text-white font-bold";case"Luck":return"bg-orange-400 text-white font-bold";case"Jinx":return"bg-blue-600 text-white font-bold";default:return"bg-gray-200 text-white font-bold"}};function p(){let[t,e]=(0,n.useState)([]),[i,p]=(0,n.useState)(!1),[o,d]=(0,n.useState)(null),[c,l]=(0,n.useState)(""),[m,g]=(0,n.useState)({image:"",name:"",type:"",description:""});(0,n.useEffect)(()=>{let t=localStorage.getItem("dataStorage");if(t){let i=JSON.parse(t),a=Math.max(...i.map(t=>t.id),0);if(Math.max(...r.map(t=>t.id),0)>a){let t=[...i,...r.filter(t=>t.id>a)];e(t),localStorage.setItem("dataStorage",JSON.stringify(t))}else e(i)}else e(r),localStorage.setItem("dataStorage",JSON.stringify(r))},[]),(0,n.useEffect)(()=>{t.length>0&&localStorage.setItem("dataStorage",JSON.stringify(t))},[t]);let h=e=>{g(t[e]),d(e),p(!0)},u=i=>{e(t.filter((t,e)=>e!==i))},y=t=>{let{name:e,value:i}=t.target;g(t=>({...t,[e]:i}))};return(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4",children:[(0,a.jsx)("div",{className:"w-full md:w-9/12 flex justify-end px-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Filter by type...",value:c,onChange:t=>l(t.target.value),className:"px-4 py-2 border rounded w-full sm:w-1/2 md:w-1/3 bg-white"})}),(0,a.jsx)("button",{onClick:()=>{d(null),g({image:"",name:"",type:"",description:""}),p(!0)},className:"bg-green-500 text-white px-4 py-2 rounded shadow hover:bg-green-600 transition text-xl cursor-pointer",children:(0,a.jsx)("b",{children:"Add New Item"})}),(0,a.jsxs)("table",{className:"shadow-2xl border-2 w-full sm:w-11/12 md:w-9/12 overflow-hidden",children:[(0,a.jsx)("thead",{className:"bg-black text-white",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"py-3 px-6 text-center",children:"Image"}),(0,a.jsx)("th",{className:"py-3 px-6 text-center",children:"Name"}),(0,a.jsx)("th",{className:"py-3 px-6 text-center",children:"Type"}),(0,a.jsx)("th",{className:"py-3 px-6 text-center",children:"Description"}),(0,a.jsx)("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"text-center divide-y divide-blue-800",children:t.filter(t=>t.type.toLowerCase().includes(c.toLowerCase())).map((t,e)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-100 transition-colors duration-150",children:[(0,a.jsx)("td",{className:"py-3 px-6 flex justify-center",children:(0,a.jsx)("img",{src:t.image,alt:"".concat(t.name," Icon"),className:"object-contain max-w-full max-h-40 w-auto h-auto"})}),(0,a.jsx)("td",{className:"py-3 px-6",children:t.name}),(0,a.jsx)("td",{className:"py-3 px-6 ".concat(s(t.type)," rounded-md"),children:t.type}),(0,a.jsx)("td",{className:"py-3 px-6 whitespace-pre-line",children:t.description}),(0,a.jsxs)("td",{className:"py-3 px-6 space-x-2",children:[(0,a.jsx)("button",{onClick:()=>h(e),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 cursor-pointer",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>u(e),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 cursor-pointer",children:"Delete"})]})]},e))})]}),i&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-11/12 md:w-1/3",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:null===o?"Add":"Edit"}),(0,a.jsx)("input",{name:"image",placeholder:"Image URL",value:m.image,onChange:y,className:"w-full mb-2 p-2 border rounded"}),(0,a.jsx)("input",{name:"name",placeholder:"Name",value:m.name,onChange:y,className:"w-full mb-2 p-2 border rounded"}),(0,a.jsx)("input",{name:"type",placeholder:"Type",value:m.type,onChange:y,className:"w-full mb-2 p-2 border rounded"}),(0,a.jsx)("textarea",{name:"description",placeholder:"Description",value:m.description,onChange:y,className:"w-full mb-4 p-2 border rounded",rows:3}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-300 rounded cursor-pointer",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(!m.name||!m.type||!m.description)return void alert("Please fill in all information completely.");if(null===o)e([...t,m]);else{let i=[...t];i[o]=m,e(i)}p(!1)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 cursor-pointer",children:"Save"})]})]})})]})}}},t=>{var e=e=>t(t.s=e);t.O(0,[8441,1684,7358],()=>e(3571)),_N_E=t.O()}]);